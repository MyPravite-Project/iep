ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]

= IEP-5: Systematic collectino of project events

:toc:

.Metadata
[cols="2"]
|===

| IEP
| 5

| Title
| Systematic collection of project events

| Author
| link:https://github.com/rtyler[R. Tyler Croy]

| Status
| :speech_balloon: In-process

| Type
| Service

| Created
| 2016-12-28
|===



== Abstract

Considering the size and velocity of the Jenkins project, it can be difficult
to systematically determine the overall health through manual checks, scraping
of various APIs, or through other non-automated means. Additionally, without
any project-owned corpus of data around it is burdensome to ask "one-off
questions" about project activity ("I wonder how quickly pull requests are
merged for new contributors?").

== Specification







[source]
----

+--------------------+                  +----------------------------+            +--------------+
| GitHub (jenkinsci) +----webhook--+    |  github-event-queue (App)  |      +----->   EventHub   |
+--------------------+             |    +----------------------------+      |  +--> (all events) |
+------------------------+         |    |                            +------+  |  +--------------+
| GitHub (jenkins-infra) +-------+ +---->                            +--+      |
+------------------------+       |      |                            |  |      |
                              webhook   | determine which datastore  |  |   enqueue
                                 |      |  the event should go into  |  |      |
                                 +------>                            +---------+
                                        |                            +-------+
                                        +----------------------------+  |    |
                                                                        |    |
                                          +-----------append------------+  append
                                          |                                  |
                           +--------------v-----------+ +--------------------v---------+
                           |  DocumentDB (jenkinsci)  | |  DocumentDB (jenkins-infra)  |
                           +--------------------------+ +------------------------------+
----

== Motivation

== Rationale

== Costs

== Reference implementation

